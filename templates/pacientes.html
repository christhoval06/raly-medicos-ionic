<ion-view title="Mis Pacientes">
    <ion-header-bar class="bar-light bar-subheader item-input-inset">
        <label class="item-input-wrapper search">
            <i class="icon ion-ios7-search placeholder-icon"></i>
            <input type="search"
                   placeholder="Filtrar Pacientes..."
                   ng-model="search"
                   ng-focus="searchFocused = true"
                   ng-blur="searchFocused = false"
                   ng-change="scrollTop()">
        </label>
        <div>
            <button ng-if="search.length"
                    class="button button-clear icon ion-close-circled"
                    ng-click="clearSearch()"></button>
            <button ng-if="search.length"
                    class="button button-clear icon ion-search"
                    ng-click="buscarPacientes()"></button>
        </div>
    </ion-header-bar>

    <ion-content has-header="true" padding="true" scroll="true" overflow-scroll="true">
        <ion-list>
            <ion-item ng-repeat="paciente in getPacientes()" class="paciente"
                      ng-class="{'item-divider': paciente.divider, 'active': paciente.pacienteid == ActivePaciente.pacienteid}">
                <a ng-click="fotoPacienteClick(paciente)" ng-if="!paciente.divider">
                    <img ng-src="{{getFotoPaciente(paciente)}}">
                </a>
                <a ng-click="pacienteClick(paciente)" ng-if="!paciente.divider">
                    <h2>{{paciente.nombre}}</h2>
                    <p>{{paciente.cedula}}</p>
                    <p>{{paciente.codigo}}</p>
                </a>
                <h2 ng-if="paciente.divider" >{{paciente.letra}}</h2>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>